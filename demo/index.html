<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Upload</title>
    <link rel="stylesheet" href="../dist/image-upload.css" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <input type="hidden" id="myFileUrls" />
    <input accept="image/*" name="myFile" data-input="myFileUrls" data-preview="preview" multiple type="file" id="myFileControl" class="image-upload-hidden-control" hidden />
    <label for="myFileControl">+点击选择</label>
    <div id="preview" class="image-upload-preview-container">
    </div>
    <script src="../dist/image-upload.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function(){
        var options = {
          imgIds: ['./uploads/Cat-party.gif', './uploads/skin-deep-beauty-and-laser-clinic-cardiff.png', './uploads/WILDBOAR.BMP'],
          imgURLs: ['./uploads/Cat-party.gif', './uploads/skin-deep-beauty-and-laser-clinic-cardiff.png', './uploads/WILDBOAR.BMP'],
          uploadURL: 'upload.php',
          allowedExtensions: ['png', 'jpg'],
          maxSizeEachFile: 1024 * 50, // 50K
          parser: function(responseJSON) {
            if (responseJSON.success) {
              return responseJSON.url;
            } else {
              return '';
            }
          },
          onPreview: function(imgContainerId) {
            debugger;
          }
        };
        var imgUploadObj = new YuanImageUpload(document.getElementById('myFileControl'), options);
        console.log(imgUploadObj);
        imgUploadObj.addEventListener('uploaded', function(e) {
          debugger;
        });
        imgUploadObj.addEventListener('errorupload', function(e) {
          debugger;
        });
      });
    </script>
  </body>
</html>